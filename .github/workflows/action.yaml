name: Maven-version
maven:
  image: maven:3.3-jdk-8
runs:
  using: "composite"
  steps:
#   - name: Checkout Github Action
#     uses: actions/checkout@v3
  - name: Maven Versioning
    run: mvn clean versions:set -DnewVersion=0.4.0
    shell: bash
  - name: Maven Built
    run: mvn package
    shell: bash 
  - run: mkdir -p artifact_dir
    shell: bash
  - run: ls -l
    shell: bash
  - run: pwd
    shell: bash
  - run: cp -rf /home/runner/work/java-hello-world-with-maven/java-hello-world-with-maven/target/jb-hello-world-maven-0.4.0-shaded.jar  /home/runner/work/java-hello-world-with-maven/java-hello-world-with-maven/artifact_dir/
    shell: bash
  - run: ls ./artifact_dir
    shell: bash 
  - uses: actions/upload-artifact@v3
    with:
      name: my-artifact
      path: artifact_dir

    
